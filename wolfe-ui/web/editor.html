<!DOCTYPE html>
<html lang="en">

<head>

    <script src="jquery-2.1.1.min.js"></script>
    <style>
        .editor {
            position: absolute;
            top: 0px;
            left: 0px;
        }
    </style>
    <script>
        $(document).ready(function () {
            $(".circle").click(function (e) {
                console.log("Circle");
                console.log(e.pageX + ' ' + e.pageY);
            });
            $("#canvas").click(function (e) {
                console.log(e.pageX + ' ' + e.pageY);
                var parent =$(".editor").parent().get(0);
                console.log(e)
                console.log(parent)
                //console.log(parent.offset());
                var rect = parent.getBoundingClientRect();
                console.log(rect)                       
                //console.log(rect.top, rect.right, rect.bottom, rect.left);                         
                var newText = document.createElementNS('http://www.w3.org/2000/svg', "circle");
                newText.setAttributeNS(null, "class", "circle");
                newText.setAttributeNS(null, "cx", e.offsetX); // - (parent.offset().left / 2));
                newText.setAttributeNS(null, "cy", e.offsetY);// - (parent.offset().right / 2));
                newText.setAttributeNS(null, "r", 20);
                newText.setAttributeNS(null, "stroke", "green");
                newText.setAttributeNS(null, "stroke-width", 4);
                //$(newText).appendTo($("#canvas"))
                $("#canvas").append($(newText));
            });
        });
    </script>
    <link rel="stylesheet" href="reveal.js-2.6.2/css/reveal.min.css">
    <link rel="stylesheet" href="reveal.js-2.6.2/css/theme/default-wolfe.css" id="theme">
    <link rel="stylesheet" href="http://moro.wolfe.ml:9000/assets/stylesheets/wolfe.css">


</head>

<body>


    <link rel="stylesheet" href="reveal.js-2.6.2/css/reveal.min.css">
<!--    <link rel="stylesheet" href="http://www.wolfe.ml/css/wolfe-code.css">-->
    <div class="reveal">
        <div class="slides">
            <section>
                <img width="130px" src="http://www.wolfe.ml/images/wolfe-logo/wolfe-logo-yellow.png" style="vertical-align: text-bottom">
                <h1 class="logo">Wolfe</h1>
                <p>UCL Machine Reading Software Infrastructure</p>
                <small>The Wolfe-Pack</small>

            </section>
            <section>
            <h2>What is it?</h2>
                <ul>
                <li class="fragment grow">Blah</li>
                <li class="fragment grow">Blub</li>
                </ul>
            </section>
            <section>
                <h2>Title</h2>
                Blah
                <div class="editor">
                    <svg id="canvas" width="1000px" height="400px">
                        <circle class="circle" cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
                        <text x="0" y="15" fill="red">I love SVG!</text>
                    </svg>
                </div>
            </section>
        </div>
    </div>
   
    <script src="reveal.js-2.6.2/lib/js/head.min.js"></script>
    <script src="reveal.js-2.6.2/js/reveal.min.js"></script>

    <script>
        // Full list of configuration options available here:
         // https://github.com/hakimel/reveal.js#configuration
        var dir = "reveal.js-2.6.2/";
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                {
                    src: dir + 'revlib/js/classList.js',
                    condition: function () {
                        return !document.body.classList;
                    }
                },
                {
                    src: dir + 'plugin/markdown/marked.js',
                    condition: function () {
                        return !!document.querySelector('[data-markdown]');
                    }
                },
                {
                    src: dir + 'plugin/markdown/markdown.js',
                    condition: function () {
                        return !!document.querySelector('[data-markdown]');
                    }
                },
                {
                    src: dir + 'plugin/highlight/highlight.js',
                    async: true,
                    callback: function () {
                        hljs.initHighlightingOnLoad();
                    }
                },
                {
                    src: dir + 'plugin/zoom-js/zoom.js',
                    async: true,
                    condition: function () {
                        return !!document.body.classList;
                    }
                },
                {
                    src: dir + 'plugin/notes/notes.js',
                    async: true,
                    condition: function () {
                        return !!document.body.classList;
                    }
                }
    ]
        });
    </script>

</body>

</html>
